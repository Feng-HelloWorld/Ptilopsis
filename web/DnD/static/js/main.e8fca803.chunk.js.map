{"version":3,"sources":["pages/Login/Login.js","components/Value/Value.js","pages/Attribute/Attribute.js","components/ListMod1/ListMod1.js","pages/Skill/Skill.js","pages/Equipment/EquipmentEdit.js","pages/Equipment/Equipment.js","pages/Identity/IdentityEdit.js","pages/Identity/Identity.js","App.js","index.js"],"names":["Login","props","loginP","useState","cardid","setCardid","pw","setPw","justify","orientation","className","placeholder","prefix","UserOutlined","maxLength","onChange","e","target","value","Password","KeyOutlined","type","shape","icon","LoginOutlined","size","onClick","console","log","axios","post","password","then","response","data","token","jwt_decode","name","player","permission","Value","val","add","minus","index","att","Attribute","setData","newList","map","item","Panel","Collapse","Select","Option","callback","key","ListMod1","content","header","extra","SettingOutlined","event","stopPropagation","description","id","d","Skill","TextArea","Input","EquipmentChange","isModalVisible","setIsModalVisible","title","setTitle","setDesc","footer","length","delete","refresh","danger","put","battleid","disabled","bordered","visible","destroyOnClose","maskClosable","closable","showCount","EquipmentAdd","PlusOutlined","hidden","Title","Typography","Equipment","location","state","get","result","localStorage","setItem","JSON","stringify","useEffect","localData","parse","getItem","align","style","display","level","RedoOutlined","IdentityChange","counter","IdentityAdd","Identity","Header","Layout","Content","Footer","Sider","App","status","setStatus","setToken","setName","setPlayer","setPermission","defaultNav","setDefaultNav","loginProcess","document","defaults","baseURL","headers","common","savedToken","autoLogin","removeItem","minHeight","breakpoint","collapsedWidth","onBreakpoint","broken","onCollapse","collapsed","src","alt","theme","mode","defaultSelectedKeys","Item","IdcardOutlined","to","pathname","SkinOutlined","ReadOutlined","padding","LogoutOutlined","window","href","margin","path","component","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e8fca803.chunk.js","sourcesContent":["import React, {useState} from 'react'\nimport axios from 'axios'\nimport jwt_decode from 'jwt-decode'\n\nimport { Input, Row, Col, Divider, Button } from 'antd';\nimport { UserOutlined, KeyOutlined, LoginOutlined } from '@ant-design/icons';\n\nimport './Login.css'\n\nexport const Login = (props) => {\n\n    const loginP = props.loginP\n\n    const [cardid, setCardid] = useState(0)\n    const [pw, setPw] = useState('')\n\n    const changeId = (e) => {\n        setCardid(e.target.value)\n    }\n\n    const changePw = (e) => {\n        setPw(e.target.value)\n    }\n\n    const loginButt = () => {\n        console.log('正在尝试登录,发送数据', cardid, pw)\n        axios.post('/card/login',{cardid:cardid,password:pw}).then(\n            (response) => {\n                console.log(\"Response\",response.data);\n                const token = response.data.data\n                const { cardid, name, player, permission } = jwt_decode(token)\n                loginP(token, cardid, name, player, permission)\n                console.log(\"数据已保存\", cardid, name, player, permission, token)\n            }\n        )\n    }\n\n    return (\n        <Row justify=\"center\">\n            <Col>\n                    <Divider orientation=\"left\">登录</Divider>\n\n                    <Input className='loginCompolent' placeholder=\"输入人物卡ID\" prefix={<UserOutlined />} maxLength='10' onChange={changeId}/>\n                \n                    <Input.Password className='loginCompolent' placeholder=\"输入密码\" prefix={<KeyOutlined />} maxLength='10' onChange={changePw}/> \n\n                    <Button className='loginCompolent' type=\"primary\" shape=\"round\" icon={<LoginOutlined />} size='default' onClick={loginButt}>登录</Button>\n            </Col>\n        </Row>\n\n    );\n}\n\nexport default Login;","\nimport './Value.css'\n\n\nconst Value = ({name, val, add, minus, index}) => {\n\n    const a = () => {\n        add(index)\n    }\n\n    const m = () => {\n        minus(index)\n    }\n\n    return (\n        <div className='valueHolder'>\n            <div className='value'>\n                <div className='valueName'>{name}</div>\n                <div className='actualValue'>{val}</div>\n            </div>\n            <div className='justify'>\n                <button className='justifyBtn' onClick={a}>+</button>\n                <button className='justifyBtn' onClick={m}>-</button>\n            </div>\n        </div>)\n}\n\nexport default Value","import React, { useState } from 'react'\n\nimport './Attribute.css'\nimport Value from '../../components/Value/Value'\n\n\n\n//axios\n// var att = new Map()\n// att.set(\"力量\",21)\n// att.set(\"敏捷\",10)\n// att.set(\"体质\",12)\n// att.set(\"智力\",8)\n// att.set(\"感知\",20)\n// att.set(\"魅力\",15)\n// att.set(\"护甲AC\",22)\n// att.set(\"速度\",30)\n// att.set(\"血量[39]\",39)\n// att.set(\"临时生命上限\",0)\n// att.set(\"成功死亡豁免\",0)\n// att.set(\"失败死亡豁免\",0)\n\nconst att = [[\"力量\",21],[\"敏捷\",10],[\"体质\",12],[\"智力\",8],[\"感知\",20],[\"魅力\",15],[\"护甲AC\",22],[\"速度\",30],[\"当前血量\",39],[\"血量上限\",39],[\"临时生命上限\",0],[\"死亡豁免成功\",0],[\"死亡豁免失败\",0]]\n\n\n\n\n\n\nconst Attribute = () => {\n\n    //数据\n    const [data, setData] = useState(att)\n\n    \n\n\n    const add = (index) => {\n        const newList = [...data]\n        newList[index][1] += 1\n        setData(newList)\n    }\n\n    const minus = (index) => {\n        const newList = [...data]\n        newList[index][1] -= 1\n        setData(newList)    \n    }\n\n    return (\n        <>\n            <div className='attributeTitle'>人物属性</div>\n            <div className='attributeValueHolder'>\n\n                {\n                    data.map(\n                        (item, index) => {\n                            // console.log(value, key)\n                            return <Value key={index} name={item[0]} val={item[1]} index={index} add={add} minus={minus}/>\n                        }\n                    )\n                }\n\n            </div>\n\n            \n            \n        </>\n        \n    )\n\n\n}\n\nexport default Attribute","\nimport { Collapse, Select } from 'antd';\nimport { SettingOutlined } from '@ant-design/icons';\n\nimport SkillDisc from '../SkillDisc/SkillDisc'\n\nconst { Panel } = Collapse;\nconst { Option } = Select;\n\n\nfunction callback(key) {\n  console.log(key);\n}\n\nconst genExtra = () => (\n  <SettingOutlined\n    onClick={event => {\n      // If you don't want click extra trigger collapse, you can prevent this:\n      event.stopPropagation();\n      console.log(\"111\")\n    }}\n  />\n);\n\nconst ListMod1 = ({content}) => {\n    console.log(\"content\",content)\n    return(\n        <>\n            <Collapse\n                // defaultActiveKey={['1']}\n                onChange={callback}\n            >\n            {\n                content.map(\n                    (item, index) => {\n                    return (<Panel header={item.name} key={item.id} extra={genExtra()}>\n                        <div>\n                            {\n                                item.description\n                            }\n                        </div>\n                    </Panel>)\n                    // return <Line key={index} content={item} index={index} showSet={showSet} remove={remove} addShowSet={addShowSet} removeShowSet={removeShowSet}/>\n                    }\n                )\n            }\n            </Collapse>\n            \n        </>\n    )\n}\n\nexport default ListMod1","import React, {useState} from 'react'\n\nimport './Skill.css'\nimport ListMod1 from '../../components/ListMod1/ListMod1'\n\n\nconst d = [\n    [\"戏法·神导术\",[\"1动作\t触及\tV、S\t专注，至多1分钟\",\"你触碰一个自愿的生物。在法术终止前，目标可以选择在一次属性检定时额外掷一粒d4，并将所得数值加入检定结果中。它可以在进行属性检定之前或之后掷骰。法术随后即终止。\"]],\n    [\"戏法·提升抗性\",[\"1动作\t触及\tV、S、M（一件微型斗篷）\t专注，至多1分钟\",\"你触碰一个自愿的生物。在法术终止前，目标可以选择在一次豁免检定时额外掷一粒d4，并将所得数值加入检定结果中。他可以在进行豁免检定之前或之后掷骰。法术随后即终止。\"]],\n    [\"戏法·亡者丧钟\",[\"1动作\t60尺\tV、S\t立即\",\"你指向一个处于距离内、你能看见的生物，一阵哀痛的铃声在空中鸣响。目标必须通过一次感知豁免检定，否则受到1d8点黯蚀伤害。若目标失去了任何量的生命值，它改为受到1d12点黯蚀伤害。\",\"此法术的伤害在你达到5级（2d8或2d12），11级（3d8或3d12），和17级（4d8或4d12）时提高一个伤害骰。\"]],\n    [\"戏法·圣火术\",[\"1动作\t60尺\tV、S\t立即\",\"如同火焰般的辉光向施法距离内你能看见的一个生物倾泻而下。目标必须要进行一次敏捷豁免，豁免失败则受到1d8 点光耀伤害。目标在这次豁免检定中无法获得掩护的增益。\",\"你到达5 级时，该法术的伤害增加1d8（变为2d8）。11 级时再加1d8（变为3d8），17 级时再加1d8（变为4d8）。\"]],\n    [\"1环·曳光弹\",[\"1动作\t120尺\tV、S\t1轮\",\"一道闪光快速飞向施法距离内你指定的一个生物，并对该目标进行一次远程法术攻击检定。命中时，目标受4d6 的光耀伤害。由于目标身上闪耀着秘法的微光，在施法者下个回合结束前，对该目标发动的下一次攻击检定具有优势\",\"使用2环或更高法术位施展该法术时，你使用的法术位每比1环高一环，伤害就增加1d6。\"]],\n    [\"1环·致伤术\",[\"1动作\t触及\tV、S\t立即\",\"你对触及范围内一个生物发动一次近战法术攻击。命中时，目标受到3d10 点黯蚀伤害。\",\"使用2 环或更高法术位施展该法术时，你使用的法术位每比1 环高一环，伤害就增加1d10。\"]],\n    [\"1环·虔诚护盾\",[\"1附赠动作\t60尺\tV、S、M（一小块写有神圣文字的羊皮纸）\t专注，至多10分钟\",\"围绕着施法距离内你指定的一个生物出现一片闪着微光的魔法力场。使目标在法术持续时间内AC 获得 +2 加值。\"]],\n    [\"1环·疗伤术\",[\"1动作\t触及\tV，S\t立即\",\"一个你触碰的生物恢复特定数值的生命值，其恢复量等于1d8＋你的施法关键属性调整值。该法术对不死生物和构装生物无效。\",\"使用2 环或更高法术位施展该法术时，你使用的法术位每比1 环高一环，恢复量就增加1d8。\"]],\n    [\"1环·治愈真言\",[\"1环/塑能\t1附赠动作\t60尺\tV\t立即\",\"你指定施法距离内一个你能看见的生物并恢复期生命值，恢复量等于1d4＋你的施法关键属性调整值。该法术对构装体和不死生物无效。\",\"使用2 环或更高法术位施展该法术时，你使用的法术位每比1 环高一环，治疗量就增加1d4 点。\"]],\n    [\"2环·援助术\",[\"1动作\t30尺\tV、S、M（一小片白布）\t8小时\",\"你的法术增强了盟友的韧性和毅力。在施法距离内指定至多三个生物。每个目标的生命值上限和当前生命值在法术持续时间内提高5 点。\",\"使用3 环或更高法术位施展该法术时，你使用的法术位每比2 环高一环，每个目标的生命值上限和当前生命值就额外提高5 点。\"]],\n    [\"2环·治疗祷言\",[\"10分钟\t30尺\tV\t立即\",\"你指定施法距离内至多六个你能看见的生物，并使其每人恢复2d8＋你施法关键属性调整值的生命值。该法术对不死生物和构装体不产生任何效应。\",\"当你使用3 环或更高法术位施展该法术时，你使用的法术位每比2 环高一环，治疗量就增加1d8。\"]],\n    [\"2环·灵体武器\",[\"1附赠动作\t60尺\tV、S\t1分钟\",\"你在施法距离内的一点创造出一把浮空的虚幻武器，并使其持续到法术持续时间结束或你再次施展该法术为止。施展该法术时，你可以对该武器周围5 尺内的一个生物发动一次近战法术攻击。若命中，则目标受到1d8＋你的施法关键属性调整值的力场伤害。\",\"你可以在自己回合内以一个附赠动作让该武器移动至多20尺，并再对它周围5 尺内的一个生物发动一次同样的攻击。\",\"该武器的外形由你决定。而如果施法的牧师侍奉的是一位和特定武器有关的神祇（例如圣库斯伯特St.Cuthbert 的钉头锤、托尔Thor 的锤子），则该法术创造出武器的外形与该武器类似。\",\"使用3 环或更高法术位施展该法术时，你使用的法术位每比2 环高两环，法术的伤害就增加1d8。\"]],\n    [\"3环·灵体卫士\",[\"1动作\t自身（半径15尺）\tV、S、M（一面圣徽）\t专注，至多10分钟\",\"你唤来灵体作你的守卫，并使其在法术持续时间内在你周围15 尺内四处飞舞。如果你属于善良或中立阵营，则它们飘渺的身形看起来像是天使或精类生物（由你选择）。如果你属于邪恶阵营，则它们将形如邪魔。\",\"施展该法术时，你可以选择视野内任意数量的生物让其不受该法术影响。受术生物在该区域内其速度减半，且当它在一个回合内第一次进入该区域或在区域内开始其回合时，必须进行一次感知豁免。豁免失败则受到3d8 点光耀伤害（如果你属于善良或中立）或3d8 点黯蚀伤害（如果你属于邪恶），豁免成功则伤害减半。\",\"使用4 环或更高法术位施展该法术时，你使用的法术位每比3 环高一环，法术的伤害就增加1d8。\"]],\n    [\"3环·回生术\",[\"1动作\t触及\tV、S、M（消耗总价值至少300gp的钻石）\t立即\",\"你触碰一个在前一分钟内刚刚死去的生物，使该生物以1 点生命值重生。该法术不能复活老死的生物，也不能恢复失去的身体部位。\"]],\n    [\"3环·防护法阵\",[\"3环/咒法\t1分钟\t10尺\tV、S、M（总价值至少100gp的圣水或银、铁粉，作为该法术的耗材）\t1小时\",\"指定施法距离内地面上你能看见的一点，并在该处创造了一个10 尺半径、20 尺高的柱状魔法能量。而承载能量柱的地面或其他平面上则会显现出闪光的符文。\",\"指定以下生物类型中的一种或多种：天界生物、元素生物、精类生物、邪魔、不死生物。法阵将会对被指定类型的生物产生以下效应：\",\"该类生物不能以非魔法手段主动进入柱状区域内。如果该类生物试图使用传送或位面旅行进入此区域，则它必须先进行一次魅力豁免以判定其是否成功。\",\"该类生物对柱状区域内的生物进行攻击检定时具有劣势\",\"柱状区域内的目标不受该类生物所魅惑，恐慌或附身。施展该法术时，你可以选择让魔法作用于相反的方向来阻止特定种类的生物离开柱状区域内，以保护区域外的目标。\",\"使用4 环或更高法术位施展该法术时，你使用的法术位每比3 环高一环，法术持续时间就增加1 小时。\"]]\n  ]\n\nexport const Skill = () => {\n\n\n    return (\n        <div className='skillHolder'>\n            <div className='skillTitle'>法术</div>\n            <div className='skillList'>\n              <ListMod1 key={1} content={d} />\n            </div>\n        </div>\n\n\n    )\n}\n\n\nexport default Skill;","import React, { useState } from 'react';\nimport { Modal, Input, Button } from 'antd';\n\nimport { PlusOutlined, SettingOutlined } from '@ant-design/icons';\nimport axios from 'axios';\n\nconst { TextArea } = Input;\n\nexport const EquipmentAdd = (props) => {\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const [title, setTitle] = useState('')\n    const [description, setDesc] = useState('')\n\n    const cardid = props.cardid\n\n    const changeTitle = (e) => {\n        setTitle(e.target.value)\n    }\n\n    const changeDesc = (e) => {\n        setDesc(e.target.value)\n    }\n\n    const showModal = () => {\n      setIsModalVisible(true);\n    };\n  \n    const submit = () => {\n        if(title.length>0 & description.length>0){\n            axios.post('/equipment/',{name:title,description:description,cardid:cardid,battleid:1}).then(\n                (response) => {\n                    console.log(\"Response\",response.data)\n                    props.refresh()\n                }\n            )\n            setIsModalVisible(false);\n        }\n        else{\n            console.log('Invalid input')\n        }\n    };\n  \n    const cancel = () => {\n        console.log('放弃编辑')\n      setIsModalVisible(false);\n    };\n\n    const footer = (\n        <>\n            <Button onClick={cancel}>取消</Button>\n            <Button type='primary' onClick={submit}>提交</Button>\n        </>\n    )\n\n  return (\n    <>\n      <Button type=\"default\" shape=\"circle\" icon={<PlusOutlined />} size='small' onClick={showModal} hidden={!props.permission}/>\n      <Modal title={<Input placeholder='物品名称' bordered={false} onChange={changeTitle}/>} visible={isModalVisible} destroyOnClose={true} footer={footer} maskClosable={false} closable={false}>\n        <TextArea showCount maxLength={1500} placeholder='物品描述，不超过1500字符' bordered={false} onChange={changeDesc} />\n      </Modal>\n    </>\n  );\n};\n\n\nexport const EquipmentChange = (props) => {\n\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [title, setTitle] = useState(props.title)\n    const [description, setDesc] = useState(props.description)\n    const id = props.id\n    const cardid = props.cardid\n    const changeTitle = (e) => {\n        setTitle(e.target.value)\n    }\n\n    const changeDesc = (e) => {\n        setDesc(e.target.value)\n    }\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n  \n    const submit = () => {\n        if(title.length>0 & description.length>0){\n            axios.put('/equipment/'+id,{name:title,description:description,cardid:cardid,battleid:1}).then(\n                (response) => {\n                    console.log(\"Response\",response.data)\n                    props.refresh()\n                }\n            )\n            setIsModalVisible(false);\n        }\n        else{\n            console.log('Invalid input')\n        }\n    };\n\n    const remove = () => {\n        if(title.length>0 & description.length>0){\n            axios.delete('/equipment/'+id).then(\n                (response) => {\n                    console.log(\"Response\",response.data)\n                    props.refresh()\n                }\n            )\n            setIsModalVisible(false);\n        }\n        else{\n            console.log('Invalid input')\n        }\n    };\n  \n    const cancel = () => {\n        console.log('放弃编辑')\n      setIsModalVisible(false);\n    };\n\n    const footer = (\n        <>\n            <Button type='primary' onClick={remove} danger>删除</Button>\n            <Button onClick={cancel}>取消</Button>\n            <Button type='primary' onClick={submit}>提交</Button>\n        </>\n    )\n\n  return (\n    <>\n        <SettingOutlined\n            onClick={(event) => {\n            event.stopPropagation()\n            showModal()\n            }}\n            disabled={!props.permission}\n        />\n        <Modal title={<Input value={title} bordered={false} onChange={changeTitle}/>} visible={isModalVisible} destroyOnClose={true} footer={footer} maskClosable={false} closable={false}>\n        <TextArea showCount maxLength={1500} value={description} bordered={false} onChange={changeDesc} />\n      </Modal>\n    </>\n  );\n};\n\n\n\nexport default EquipmentAdd;","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nimport './Equipment.css'\nimport EquipmentAdd, {EquipmentChange} from './EquipmentEdit'\n\nimport { Collapse, Divider, Space, Button, Typography } from 'antd';\nimport { RedoOutlined } from '@ant-design/icons';\nconst { Title } = Typography;\nconst { Panel } = Collapse;\n\nexport const Equipment = (props) => {\n\n    const cardid = props.location.state.cardid\n    const permission = props.location.state.permission\n    const [data, setData] = useState([])\n\n    const refresh = () => {\n        console.log('正在从服务器下载数据')\n        axios.get('/equipment/bycardid/'+cardid).then(\n            (response) => {\n                console.log(\"Response\",response.data.data.result);\n                setData(response.data.data.result)\n                console.log('数据下载完成',response.data.data.result)\n                localStorage.setItem('card'+cardid+'equipment',JSON.stringify(response.data.data.result))\n                console.log('已缓存至本地存储')\n            }\n        )\n    }\n\n\n    useEffect(() => {\n        console.log(\"装备模块开始载入，人物卡id为\",)\n        const localData = JSON.parse(localStorage.getItem('card'+cardid+'equipment'))\n        console.log('检查本地缓存',localData)\n        if(!localData){\n            refresh()\n        }\n        else{\n            setData(localData)\n            console.log('已使用本地缓存数据',data)\n        }\n        return () => {\n            console.log('装备模块退出')\n        }\n    }, [])\n\n    return (\n        <>\n            {console.log(\"开始使用数据渲染页面\",data)}\n            <Divider orientation=\"left\">\n                <Space size='large' align='baseline'>\n                    <Title style={{display:'inline-block'}} level={3}>装备</Title> \n                    <Space>\n                    <EquipmentAdd cardid={cardid} refresh={refresh} permission={permission}/>\n                    <Button type=\"default\" shape=\"circle\" icon={<RedoOutlined />} size='small' onClick={refresh}/>\n                    </Space>\n                </Space>\n            </Divider>\n            <Collapse>\n            {\n                data.map(\n                    (item, index) => {\n                    return (<Panel header={item.name} key={item.id} extra={permission? <EquipmentChange title={item.name} id={item.id} cardid={cardid} description={item.description} refresh={refresh} onClick={\n                        (event) => {event.stopPropagation();}\n                    }/> : ''\n                        \n                    }>\n                        <div className='equipmentDescription'>\n                            {\n                                item.description\n                            }\n                        </div>\n                    </Panel>)\n                    }\n                )\n            }\n            </Collapse>\n        </>\n\n\n    )\n}\n\n\nexport default Equipment;","import React, { useState } from 'react';\nimport { Modal, Input, Button } from 'antd';\n\nimport { PlusOutlined, SettingOutlined } from '@ant-design/icons';\nimport axios from 'axios';\n\nconst { TextArea } = Input;\n\n\nexport const IdentityAdd = (props) => {\n    const [isModalVisible, setIsModalVisible] = useState(false);\n\n    const [title, setTitle] = useState('')\n    const [description, setDesc] = useState('')\n    const [counter, setCounter] = useState('')\n\n    const cardid = props.cardid\n\n    const changeTitle = (e) => {\n        setTitle(e.target.value)\n    }\n\n    const changeDesc = (e) => {\n        setDesc(e.target.value)\n    }\n\n    const changeCounter = (e) => {\n        setDesc(e.target.value)\n    }\n\n    const showModal = () => {\n      setIsModalVisible(true);\n    };\n  \n    const submit = () => {\n        if(title.length>0 & description.length>0){\n            axios.post('/Identity/',{name:title,description:description,cardid:cardid,counter:counter}).then(\n                (response) => {\n                    console.log(\"Response\",response.data)\n                    props.refresh()\n                }\n            )\n            setIsModalVisible(false);\n        }\n        else{\n            console.log('Invalid input')\n        }\n    };\n  \n    const cancel = () => {\n        console.log('放弃编辑')\n      setIsModalVisible(false);\n    };\n\n    const footer = (\n        <>\n            <Button onClick={cancel}>取消</Button>\n            <Button type='primary' onClick={submit}>提交</Button>\n        </>\n    )\n\n  return (\n    <>\n      <Button type=\"default\" shape=\"circle\" icon={<PlusOutlined />} size='small' onClick={showModal} hidden={!props.permission}/>\n      <Modal title={<Input placeholder='特质名称' bordered={false} onChange={changeTitle}/>} visible={isModalVisible} destroyOnClose={true} footer={footer} maskClosable={false} closable={false}>\n        <TextArea showCount maxLength={1500} placeholder='特质描述，不超过1500字符' bordered={false} onChange={changeDesc} />\n        \n      </Modal>\n    </>\n  );\n};\n\n\nexport const IdentityChange = (props) => {\n\n    const [isModalVisible, setIsModalVisible] = useState(false);\n    const [title, setTitle] = useState(props.title)\n    const [description, setDesc] = useState(props.description)\n    const [counter, setCounter] = useState('')\n\n    const id = props.id\n    const cardid = props.cardid\n    const changeTitle = (e) => {\n        setTitle(e.target.value)\n    }\n\n    const changeDesc = (e) => {\n        setDesc(e.target.value)\n    }\n\n    const changeCounter = (e) => {\n        setDesc(e.target.value)\n    }\n\n    const showModal = () => {\n        setIsModalVisible(true);\n    };\n  \n    const submit = () => {\n        if(title.length>0 & description.length>0){\n            axios.put('/identity/'+id,{name:title,description:description,cardid:cardid,counter:counter}).then(\n                (response) => {\n                    console.log(\"Response\",response.data)\n                    props.refresh()\n                }\n            )\n            setIsModalVisible(false);\n        }\n        else{\n            console.log('Invalid input')\n        }\n    };\n\n    const remove = () => {\n        if(title.length>0 & description.length>0){\n            axios.delete('/identity/'+id).then(\n                (response) => {\n                    console.log(\"Response\",response.data)\n                    props.refresh()\n                }\n            )\n            setIsModalVisible(false);\n        }\n        else{\n            console.log('Invalid input')\n        }\n    };\n  \n    const cancel = () => {\n        console.log('放弃编辑')\n      setIsModalVisible(false);\n    };\n\n    const footer = (\n        <>\n            <Button type='primary' onClick={remove} danger>删除</Button>\n            <Button onClick={cancel}>取消</Button>\n            <Button type='primary' onClick={submit}>提交</Button>\n        </>\n    )\n\n  return (\n    <>\n        <SettingOutlined\n            onClick={(event) => {\n            event.stopPropagation()\n            showModal()\n            }}\n            disabled={!props.permission}\n        />\n        <Modal title={<Input value={title} bordered={false} onChange={changeTitle}/>} visible={isModalVisible} destroyOnClose={true} footer={footer} maskClosable={false} closable={false}>\n        <TextArea showCount maxLength={1500} value={description} bordered={false} onChange={changeDesc} />\n      </Modal>\n    </>\n  );\n};\n\n\n\nexport default IdentityAdd;","import React, {useState, useEffect} from 'react'\nimport axios from 'axios'\n\nimport './Identity.css'\nimport IdentityAdd, {IdentityChange} from './IdentityEdit'\n\nimport { Collapse, Divider, Space, Button, Typography } from 'antd';\nimport { RedoOutlined } from '@ant-design/icons';\nconst { Title } = Typography;\nconst { Panel } = Collapse;\n\nexport const Identity = (props) => {\n\n    const cardid = props.location.state.cardid\n    const permission = props.location.state.permission\n    const [data, setData] = useState([])\n\n    const refresh = () => {\n      console.log('正在从服务器下载数据')\n      axios.get('/identity/bycardid/'+cardid).then(\n          (response) => {\n              console.log(\"Response\",response.data.data.result);\n              setData(response.data.data.result)\n              console.log('数据下载完成',response.data.data.result)\n              localStorage.setItem('card'+cardid+'identity',JSON.stringify(response.data.data.result))\n              console.log('已缓存至本地存储')\n          }\n      )\n  }\n\n  useEffect(() => {\n    console.log(\"特质模块开始载入，人物卡id为\",)\n    const localData = JSON.parse(localStorage.getItem('card'+cardid+'identity'))\n    console.log('检查本地缓存',localData)\n    if(!localData){\n        refresh()\n    }\n    else{\n        setData(localData)\n        console.log('已使用本地缓存数据',data)\n    }\n    return () => {\n        console.log('装备模块退出')\n    }\n}, [])\n\n  return (\n    <>\n      {console.log(\"开始使用数据渲染页面\",data)}\n      <Divider orientation=\"left\">\n          <Space size='large' align='baseline'>\n              <Title style={{display:'inline-block'}} level={3}>特质</Title> \n              <Space>\n              <IdentityAdd cardid={cardid} refresh={refresh} permission={permission}/>\n              <Button type=\"default\" shape=\"circle\" icon={<RedoOutlined />} size='small' onClick={refresh}/>\n              </Space>\n          </Space>\n      </Divider>\n      <Collapse>\n      {\n          data.map(\n              (item, index) => {\n              return (<Panel header={item.name} key={item.id} extra={permission? <IdentityChange title={item.name} id={item.id} cardid={cardid} description={item.description} refresh={refresh} onClick={\n                  (event) => {event.stopPropagation();}\n              }/> : ''\n                  \n              }>\n                  <div className='identityDescription'>\n                      {\n                          item.description\n                      }\n                  </div>\n              </Panel>)\n              }\n          )\n      }\n      </Collapse>\n  </>\n\n\n\n  )\n}\n\n\nexport default Identity;","import './App.css';\nimport { Link, Route, Redirect } from 'react-router-dom'\nimport { Layout, Menu, Button, Space } from 'antd'\nimport { LoginOutlined, LogoutOutlined, IdcardOutlined, SkinOutlined, ReadOutlined, UserOutlined } from '@ant-design/icons'\nimport axios from 'axios'\nimport jwt_decode from 'jwt-decode'\n\nimport Login from './pages/Login/Login'\nimport Attribute from './pages/Attribute/Attribute'\nimport Skill from './pages/Skill/Skill'\nimport Equipment from './pages/Equipment/Equipment'\nimport Identity from './pages/Identity/Identity'\nimport { useState, useEffect } from 'react';\n\nconst { Header, Content, Footer, Sider } = Layout\n\n//退出浏览器时自动清除缓存\n// window.onunload = () =>{\n//   localStorage.clear()\n// }\n\nfunction App() {\n\n  const [status, setStatus] = useState(false)\n  const [token, setToken] = useState('')\n  const [cardid, setCardid] = useState('')\n  const [name, setName] = useState('DnD在线人物卡系统')\n  const [player, setPlayer] = useState('')\n  const [permission, setPermission] = useState(false)\n  const [defaultNav, setDefaultNav] = useState(['1'])\n\n  const loginProcess = (token, cardid, name, player, permission) => {\n    setStatus(true)\n    setToken(token)\n    setCardid(cardid)\n    setName(name)\n    setPlayer(player)\n    setDefaultNav(['2'])\n    if(permission=='full'){\n      setPermission(true)\n      localStorage.setItem('token',token)\n    }\n  }\n\n  document.title=name\n\n  axios.defaults.baseURL = 'https://hz.shirolovol.cn:3003/api/v1/dnd';\n  axios.defaults.headers.common['Authorization'] = \"Bearer \"+token;\n\n  const logout = () => {\n    localStorage.removeItem('token')\n    localStorage.removeItem('card'+cardid+'equipment')\n    // localStorage.removeItem('card'+cardid+'')\n    // localStorage.removeItem('card'+cardid+'')\n    window.location.href=\"https://hz.shirolovol.cn:3002\"\n  }\n\n  const autoLogin = () => {\n    const savedToken = localStorage.getItem('token')\n    if(savedToken){\n      axios.defaults.headers.common['Authorization'] = \"Bearer \"+savedToken;\n      axios.post('card/tokenlogin').then(\n        (response) => {\n          console.log(\"Response\",response.data);\n          const token = response.data.data\n          const { cardid, name, player, permission } = jwt_decode(token)\n          loginProcess(token, cardid, name, player, permission)\n          console.log(\"数据已保存\", cardid, name, player, permission, token)\n        }\n      )\n    }\n  }\n\n  const Welcome = () => {\n    return (\n      <>Welcome Page</>\n    )\n  }\n\n  useEffect(\n    () => {\n      autoLogin()\n      return (\n        () => {\n          localStorage.removeItem('card'+cardid+'equipment')\n        }\n      )\n    },[]\n  )\n  \n\n  return (\n    <div className=\"App\">\n      <Layout style={{minHeight:\"100vh\"}}>\n        <Sider\n          breakpoint=\"lg\"\n          collapsedWidth=\"0\"\n          onBreakpoint={broken => {\n            console.log(broken);\n          }}\n          onCollapse={(collapsed, type) => {\n            console.log(collapsed, type);\n          }}\n        >\n          <img className='ptilopsisLogo' src='logo.png' alt='NotFount'/>\n          <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={defaultNav}>\n              \n              <Menu.Item key=\"1\" icon={<LoginOutlined />} hidden={status}>登录</Menu.Item>\n\n              <Menu.Item key=\"2\" icon={<IdcardOutlined />} hidden={true}>\n                <Link to={{pathname:'attribute',state:{cardid:2}}}>基本属性</Link>\n              </Menu.Item>\n\n              <Menu.Item key=\"3\" icon={<UserOutlined />} hidden={!status}>\n                <Link to={{pathname:'identity',state:{cardid:cardid, permission:permission}}}>人物特质</Link>\n              </Menu.Item>\n\n              <Menu.Item key=\"4\" icon={<SkinOutlined />} hidden={!status}>\n                <Link to={{pathname:'equipment',state:{cardid:cardid, permission:permission}}}>装备及武器</Link>\n              </Menu.Item>\n\n              <Menu.Item key=\"5\" icon={<ReadOutlined />} hidden={true}>\n                <Link to={{pathname:'skill',state:{cardid:2}}}>法术</Link>\n              </Menu.Item>\n            \n          </Menu>\n        </Sider>\n        <Layout>\n          <Header className=\"site-layout-sub-header-background\" style={{ padding: 0 }} >\n            <Space size='large' align='center'>\n              <div className='ptilopsisTitle'>{name}</div>\n              <Button size='small'  shape=\"circle\" icon={<LogoutOutlined/>} onClick={logout} hidden={!status}/>\n            </Space>\n          </Header>\n          <Content style={{ margin: '24px 16px 0' }}>\n            <div className=\"site-layout-background\" style={{ padding: 24, minHeight: 360 }}>\n              <div hidden={status}>\n                <Login loginP={loginProcess}/>\n              </div>\n              <Route path='/welcome' component={Welcome} />\n              <Route path='/attribute' component={Attribute} />\n              <Route path='/identity' component={Identity} />\n              <Route path='/equipment' component={Equipment} />\n              <Route path='/skill' component={Skill} />\n              {status? <Redirect to='/welcome' />:<Redirect to='/' />}\n              \n            </div>\n          </Content>\n          <Footer style={{ textAlign: 'center' }}>Ptilopsis DnD 在线人物卡管理系统</Footer>\n        </Layout>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport 'antd/dist/antd.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}