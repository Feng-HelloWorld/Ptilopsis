(this["webpackJsonpptilopsis-dnd"]=this["webpackJsonpptilopsis-dnd"]||[]).push([[0],{141:function(e,t,n){},142:function(e,t,n){},160:function(e,t,n){},167:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},177:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(121),i=n.n(o),s=n(76),l=(n(141),n(13)),r=(n(142),n(24)),d=n(180),j=n(186),b=n(189),u=n(58),O=n(193),h=n(191),g=n(197),p=n(198),x=n(199),m=n(21),f=n.n(m),v=n(84),y=n(187),C=n(188),k=n(179),S=n(183),I=n(192),w=(n(160),n(3)),F=function(e){var t=e.loginP,n=Object(c.useState)(0),a=Object(l.a)(n,2),o=a[0],i=a[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),d=r[0],j=r[1];return Object(w.jsx)(y.a,{justify:"center",children:Object(w.jsxs)(C.a,{children:[Object(w.jsx)(k.a,{orientation:"left",children:"\u767b\u5f55"}),Object(w.jsx)(S.a,{className:"loginCompolent",placeholder:"\u8f93\u5165\u4eba\u7269\u5361ID",prefix:Object(w.jsx)(h.a,{}),maxLength:"10",onChange:function(e){i(e.target.value)}}),Object(w.jsx)(S.a.Password,{className:"loginCompolent",placeholder:"\u8f93\u5165\u5bc6\u7801",prefix:Object(w.jsx)(I.a,{}),maxLength:"10",onChange:function(e){j(e.target.value)}}),Object(w.jsx)(u.a,{className:"loginCompolent",type:"primary",shape:"round",icon:Object(w.jsx)(O.a,{}),size:"default",onClick:function(){console.log("\u6b63\u5728\u5c1d\u8bd5\u767b\u5f55,\u53d1\u9001\u6570\u636e",o,d),f.a.post("/card/login",{cardid:o,password:d}).then((function(e){console.log("Response",e.data);var n=e.data.data,c=Object(v.a)(n),a=c.cardid,o=c.name,i=c.player,s=c.permission;t(n,a,o,i,s),console.log("\u6570\u636e\u5df2\u4fdd\u5b58",a,o,i,s,n)}))},children:"\u767b\u5f55"})]})})},R=(n(167),n(184)),z=n(194),N=n(195),P=S.a.TextArea,q=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(e.title),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(e.description),b=Object(l.a)(j,2),O=b[0],h=b[1],g=e.id,p=e.cardid,x=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{type:"primary",onClick:function(){f.a.delete("/equipment/"+g).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)},danger:!0,children:"\u5220\u9664"}),Object(w.jsx)(u.a,{onClick:function(){console.log("\u653e\u5f03\u7f16\u8f91"),o(!1)},children:"\u53d6\u6d88"}),Object(w.jsx)(u.a,{type:"primary",onClick:function(){r.length>0&O.length>0?(f.a.put("/equipment/"+g,{name:r,description:O,cardid:p,battleid:1}).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)):console.log("Invalid input")},children:"\u63d0\u4ea4"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N.a,{onClick:function(e){e.stopPropagation(),o(!0)},disabled:!e.permission}),Object(w.jsx)(R.a,{title:Object(w.jsx)(S.a,{value:r,bordered:!1,onChange:function(e){d(e.target.value)}}),visible:a,destroyOnClose:!0,footer:x,maskClosable:!1,closable:!1,children:Object(w.jsx)(P,{showCount:!0,maxLength:1500,value:O,bordered:!1,onChange:function(e){h(e.target.value)}})})]})},L=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(""),b=Object(l.a)(j,2),O=b[0],h=b[1],g=e.cardid,p=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{onClick:function(){console.log("\u653e\u5f03\u7f16\u8f91"),o(!1)},children:"\u53d6\u6d88"}),Object(w.jsx)(u.a,{type:"primary",onClick:function(){r.length>0&O.length>0?(f.a.post("/equipment/",{name:r,description:O,cardid:g,battleid:1}).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)):console.log("Invalid input")},children:"\u63d0\u4ea4"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{type:"default",shape:"circle",icon:Object(w.jsx)(z.a,{}),size:"small",onClick:function(){o(!0)},hidden:!e.permission}),Object(w.jsx)(R.a,{title:Object(w.jsx)(S.a,{placeholder:"\u7269\u54c1\u540d\u79f0",bordered:!1,onChange:function(e){d(e.target.value)}}),visible:a,destroyOnClose:!0,footer:p,maskClosable:!1,closable:!1,children:Object(w.jsx)(P,{showCount:!0,maxLength:1500,placeholder:"\u7269\u54c1\u63cf\u8ff0\uff0c\u4e0d\u8d85\u8fc71500\u5b57\u7b26",bordered:!1,onChange:function(e){h(e.target.value)}})})]})},D=n(181),J=n(185),T=n(196),A=D.a.Title,E=J.a.Panel,B=function(e){var t=e.location.state.cardid,n=e.location.state.permission,a=Object(c.useState)([]),o=Object(l.a)(a,2),i=o[0],s=o[1],r=function(){console.log("\u6b63\u5728\u4ece\u670d\u52a1\u5668\u4e0b\u8f7d\u6570\u636e"),f.a.get("/equipment/bycardid/"+t).then((function(e){console.log("Response",e.data.data.result),s(e.data.data.result),console.log("\u6570\u636e\u4e0b\u8f7d\u5b8c\u6210",e.data.data.result),localStorage.setItem("card"+t+"equipment",JSON.stringify(e.data.data.result)),console.log("\u5df2\u7f13\u5b58\u81f3\u672c\u5730\u5b58\u50a8")}))};return Object(c.useEffect)((function(){console.log("\u88c5\u5907\u6a21\u5757\u5f00\u59cb\u8f7d\u5165\uff0c\u4eba\u7269\u5361id\u4e3a");var e=JSON.parse(localStorage.getItem("card"+t+"equipment"));return console.log("\u68c0\u67e5\u672c\u5730\u7f13\u5b58",e),e?(s(e),console.log("\u5df2\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u6570\u636e",i)):r(),function(){console.log("\u88c5\u5907\u6a21\u5757\u9000\u51fa")}}),[]),Object(w.jsxs)(w.Fragment,{children:[console.log("\u5f00\u59cb\u4f7f\u7528\u6570\u636e\u6e32\u67d3\u9875\u9762",i),Object(w.jsx)(k.a,{orientation:"left",children:Object(w.jsxs)(b.b,{size:"large",align:"baseline",children:[Object(w.jsx)(A,{style:{display:"inline-block"},level:3,children:"\u88c5\u5907"}),Object(w.jsxs)(b.b,{children:[Object(w.jsx)(L,{cardid:t,refresh:r,permission:n}),Object(w.jsx)(u.a,{type:"default",shape:"circle",icon:Object(w.jsx)(T.a,{}),size:"small",onClick:r})]})]})}),Object(w.jsx)(J.a,{children:i.map((function(e,c){return Object(w.jsx)(E,{header:e.name,extra:n?Object(w.jsx)(q,{title:e.name,id:e.id,cardid:t,description:e.description,refresh:r,onClick:function(e){e.stopPropagation()}}):"",children:Object(w.jsx)("div",{className:"equipmentDescription",children:e.description})},e.id)}))})]})},H=(n(170),S.a.TextArea),V=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(e.title),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(e.description),b=Object(l.a)(j,2),O=b[0],h=b[1],g=Object(c.useState)(""),p=Object(l.a)(g,2),x=p[0],m=(p[1],e.id),v=e.cardid,y=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{type:"primary",onClick:function(){f.a.delete("/identity/"+m).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)},danger:!0,children:"\u5220\u9664"}),Object(w.jsx)(u.a,{onClick:function(){console.log("\u653e\u5f03\u7f16\u8f91"),o(!1)},children:"\u53d6\u6d88"}),Object(w.jsx)(u.a,{type:"primary",onClick:function(){r.length>0&O.length>0?(f.a.put("/identity/"+m,{name:r,description:O,cardid:v,counter:x}).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)):console.log("Invalid input")},children:"\u63d0\u4ea4"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N.a,{onClick:function(e){e.stopPropagation(),o(!0)},disabled:!e.permission}),Object(w.jsx)(R.a,{title:Object(w.jsx)(S.a,{value:r,bordered:!1,onChange:function(e){d(e.target.value)}}),visible:a,destroyOnClose:!0,footer:y,maskClosable:!1,closable:!1,children:Object(w.jsx)(H,{showCount:!0,maxLength:1500,value:O,bordered:!1,onChange:function(e){h(e.target.value)}})})]})},W=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(""),b=Object(l.a)(j,2),O=b[0],h=b[1],g=Object(c.useState)(""),p=Object(l.a)(g,2),x=p[0],m=(p[1],e.cardid),v=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{onClick:function(){console.log("\u653e\u5f03\u7f16\u8f91"),o(!1)},children:"\u53d6\u6d88"}),Object(w.jsx)(u.a,{type:"primary",onClick:function(){r.length>0&O.length>0?(f.a.post("/identity/",{name:r,description:O,cardid:m,counter:x}).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)):console.log("Invalid input")},children:"\u63d0\u4ea4"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{type:"default",shape:"circle",icon:Object(w.jsx)(z.a,{}),size:"small",onClick:function(){o(!0)},hidden:!e.permission}),Object(w.jsx)(R.a,{title:Object(w.jsx)(S.a,{placeholder:"\u7279\u8d28\u540d\u79f0",bordered:!1,onChange:function(e){d(e.target.value)}}),visible:a,destroyOnClose:!0,footer:v,maskClosable:!1,closable:!1,children:Object(w.jsx)(H,{showCount:!0,maxLength:1500,placeholder:"\u7279\u8d28\u63cf\u8ff0\uff0c\u4e0d\u8d85\u8fc71500\u5b57\u7b26",bordered:!1,onChange:function(e){h(e.target.value)}})})]})},K=D.a.Title,M=J.a.Panel,U=function(e){var t=e.location.state.cardid,n=e.location.state.permission,a=Object(c.useState)([]),o=Object(l.a)(a,2),i=o[0],s=o[1],r=function(){console.log("\u6b63\u5728\u4ece\u670d\u52a1\u5668\u4e0b\u8f7d\u6570\u636e"),f.a.get("/identity/bycardid/"+t).then((function(e){console.log("Response",e.data.data.result),s(e.data.data.result),console.log("\u6570\u636e\u4e0b\u8f7d\u5b8c\u6210",e.data.data.result),localStorage.setItem("card"+t+"identity",JSON.stringify(e.data.data.result)),console.log("\u5df2\u7f13\u5b58\u81f3\u672c\u5730\u5b58\u50a8")}))};return Object(c.useEffect)((function(){console.log("\u7279\u8d28\u6a21\u5757\u5f00\u59cb\u8f7d\u5165\uff0c\u4eba\u7269\u5361id\u4e3a");var e=JSON.parse(localStorage.getItem("card"+t+"identity"));return console.log("\u68c0\u67e5\u672c\u5730\u7f13\u5b58",e),e?(s(e),console.log("\u5df2\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u6570\u636e",i)):r(),function(){console.log("\u7279\u8d28\u6a21\u5757\u9000\u51fa")}}),[]),Object(w.jsxs)(w.Fragment,{children:[console.log("\u5f00\u59cb\u4f7f\u7528\u6570\u636e\u6e32\u67d3\u9875\u9762",i),Object(w.jsx)(k.a,{orientation:"left",children:Object(w.jsxs)(b.b,{size:"large",align:"baseline",children:[Object(w.jsx)(K,{style:{display:"inline-block"},level:3,children:"\u7279\u8d28"}),Object(w.jsxs)(b.b,{children:[Object(w.jsx)(W,{cardid:t,refresh:r,permission:n}),Object(w.jsx)(u.a,{type:"default",shape:"circle",icon:Object(w.jsx)(T.a,{}),size:"small",onClick:r})]})]})}),Object(w.jsx)(J.a,{children:i.map((function(e,c){return Object(w.jsx)(M,{header:e.name,extra:n?Object(w.jsx)(V,{title:e.name,id:e.id,cardid:t,description:e.description,refresh:r,onClick:function(e){e.stopPropagation()}}):"",children:Object(w.jsx)("div",{className:"identityDescription",children:e.description})},e.id)}))})]})},G=(n(171),n(182)),Q=n(190),X=S.a.TextArea,Y=G.a.Option,Z=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Y,{value:"0",children:"\u620f\u6cd5"}),Object(w.jsx)(Y,{value:"1",children:"1\u73af"}),Object(w.jsx)(Y,{value:"2",children:"2\u73af"}),Object(w.jsx)(Y,{value:"3",children:"3\u73af"}),Object(w.jsx)(Y,{value:"4",children:"4\u73af"}),Object(w.jsx)(Y,{value:"5",children:"5\u73af"}),Object(w.jsx)(Y,{value:"6",children:"6\u73af"}),Object(w.jsx)(Y,{value:"7",children:"7\u73af"}),Object(w.jsx)(Y,{value:"8",children:"8\u73af"}),Object(w.jsx)(Y,{value:"9",children:"9\u73af"})]}),$=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(e.title),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(e.description),O=Object(l.a)(j,2),h=O[0],g=O[1],p=Object(c.useState)(e.timecost),x=Object(l.a)(p,2),m=x[0],v=x[1],y=Object(c.useState)(e.concentrate),C=Object(l.a)(y,2),k=C[0],I=C[1],F=Object(c.useState)(e.level),z=Object(l.a)(F,2),P=z[0],q=z[1],L=e.id,D=e.cardid,J=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{type:"primary",onClick:function(){f.a.delete("/magic/"+L).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)},danger:!0,children:"\u5220\u9664"}),Object(w.jsx)(u.a,{onClick:function(){console.log("\u653e\u5f03\u7f16\u8f91"),o(!1)},children:"\u53d6\u6d88"}),Object(w.jsx)(u.a,{type:"primary",onClick:function(){r.length>0&h.length>0&m.length>0?(f.a.post("/magic/",{cnname:r,description:h,cardid:D,timecost:m,concentrate:k,level:P}).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)):console.log("Invalid input")},children:"\u63d0\u4ea4"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N.a,{onClick:function(e){e.stopPropagation(),o(!0)},disabled:!e.permission}),Object(w.jsxs)(R.a,{title:Object(w.jsxs)(b.b,{children:[Object(w.jsx)(G.a,{defaultValue:String(P),style:{width:80,display:"inline-block"},onChange:function(e){q(e)},children:Z}),Object(w.jsx)(S.a,{value:r,bordered:!1,style:{display:"inline-block"},onChange:function(e){d(e.target.value)}})]}),visible:a,destroyOnClose:!0,footer:J,maskClosable:!1,closable:!1,children:[Object(w.jsx)(X,{showCount:!0,maxLength:1500,value:h,bordered:!1,onChange:function(e){g(e.target.value)},autoSize:{minRows:6,maxRows:10}}),Object(w.jsxs)(b.b,{children:[Object(w.jsx)(Q.a,{checkedChildren:"\u9700\u8981\u4e13\u6ce8",unCheckedChildren:"\u65e0\u9700\u4e13\u6ce8",defaultChecked:!0,style:{display:"inline-block"},onChange:function(e){I(e?1:0)},checked:k}),Object(w.jsx)(S.a,{value:m,bordered:!1,style:{display:"inline-block"},onChange:function(e){v(e.target.value)}})]})]})]})},_=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(""),s=Object(l.a)(i,2),r=s[0],d=s[1],j=Object(c.useState)(""),O=Object(l.a)(j,2),h=O[0],g=O[1],p=Object(c.useState)(""),x=Object(l.a)(p,2),m=x[0],v=x[1],y=Object(c.useState)(!1),C=Object(l.a)(y,2),k=C[0],I=C[1],F=Object(c.useState)(0),N=Object(l.a)(F,2),P=N[0],q=N[1],L=e.cardid,D=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{onClick:function(){console.log("\u653e\u5f03\u7f16\u8f91"),o(!1)},children:"\u53d6\u6d88"}),Object(w.jsx)(u.a,{type:"primary",onClick:function(){r.length>0&h.length>0&m.length>0?(f.a.post("/magic/",{cnname:r,description:h,cardid:L,timecost:m,concentrate:k,level:P}).then((function(t){console.log("Response",t.data),e.refresh()})),o(!1)):console.log("Invalid input")},children:"\u63d0\u4ea4"})]});return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(u.a,{type:"default",shape:"circle",icon:Object(w.jsx)(z.a,{}),size:"small",onClick:function(){o(!0)},hidden:!e.permission}),Object(w.jsxs)(R.a,{title:Object(w.jsxs)(b.b,{children:[Object(w.jsx)(G.a,{defaultValue:"0",style:{width:80,display:"inline-block"},onChange:function(e){q(e)},children:Z}),Object(w.jsx)(S.a,{placeholder:"\u6cd5\u672f\u540d\u79f0",bordered:!1,style:{display:"inline-block"},onChange:function(e){d(e.target.value)}})]}),visible:a,destroyOnClose:!0,footer:D,maskClosable:!1,closable:!1,children:[Object(w.jsx)(X,{showCount:!0,maxLength:1500,placeholder:"\u6cd5\u672f\u6548\u679c\uff0c\u4e0d\u8d85\u8fc71500\u5b57\u7b26",bordered:!1,onChange:function(e){g(e.target.value)},autoSize:{minRows:6,maxRows:10}}),Object(w.jsxs)(b.b,{children:[Object(w.jsx)(Q.a,{checkedChildren:"\u9700\u8981\u4e13\u6ce8",unCheckedChildren:"\u65e0\u9700\u4e13\u6ce8",defaultChecked:!0,style:{display:"inline-block"},onChange:function(e){I(e?1:0)}}),Object(w.jsx)(S.a,{placeholder:"\u65bd\u6cd5\u65f6\u95f4",bordered:!1,style:{display:"inline-block"},onChange:function(e){v(e.target.value)}})]})]})]})},ee=D.a.Title,te=D.a.Text,ne=J.a.Panel,ce=function(e){var t=e.location.state.cardid,n=e.location.state.permission,a=Object(c.useState)([]),o=Object(l.a)(a,2),i=o[0],s=o[1],r=function(e){for(var t=[],n=0;n<10;n++)t[n]=[];e.map((function(e){return t[e.level].push(e),!0})),s(t)},d=function(){console.log("\u6b63\u5728\u4ece\u670d\u52a1\u5668\u4e0b\u8f7d\u6570\u636e"),f.a.get("/magic/bycardid/"+t).then((function(e){console.log("Response",e.data.data.result),r(e.data.data.result),console.log("\u6570\u636e\u4e0b\u8f7d\u5b8c\u6210",e.data.data.result),localStorage.setItem("card"+t+"magic",JSON.stringify(e.data.data.result)),console.log("\u5df2\u7f13\u5b58\u81f3\u672c\u5730\u5b58\u50a8")}))};return Object(c.useEffect)((function(){console.log("\u6cd5\u672f\u6a21\u5757\u5f00\u59cb\u8f7d\u5165\uff0c\u4eba\u7269\u5361id\u4e3a");var e=JSON.parse(localStorage.getItem("card"+t+"magic"));return console.log("\u68c0\u67e5\u672c\u5730\u7f13\u5b58",e),e?(r(e),console.log("\u5df2\u4f7f\u7528\u672c\u5730\u7f13\u5b58\u6570\u636e",i)):d(),function(){console.log("\u6cd5\u672f\u6a21\u5757\u9000\u51fa")}}),[]),Object(w.jsxs)(w.Fragment,{children:[console.log("\u5f00\u59cb\u4f7f\u7528\u6570\u636e\u6e32\u67d3\u9875\u9762",i),Object(w.jsx)(k.a,{orientation:"left",children:Object(w.jsxs)(b.b,{size:"large",align:"baseline",children:[Object(w.jsx)(ee,{style:{display:"inline-block"},level:3,children:"\u6cd5\u672f\u5217\u8868"}),Object(w.jsxs)(b.b,{children:[Object(w.jsx)(_,{cardid:t,refresh:d,permission:n}),Object(w.jsx)(u.a,{type:"default",shape:"circle",icon:Object(w.jsx)(T.a,{}),size:"small",onClick:d})]})]})}),Object(w.jsx)(J.a,{ghost:!0,children:i.map((function(e,c){return e.length>0?Object(w.jsx)(ne,{header:Object(w.jsx)(ee,{level:5,style:{display:"inline-block"},children:e[0].level?c+"\u73af":"\u620f\u6cd5"}),children:Object(w.jsx)(J.a,{children:e.map((function(e,c){return Object(w.jsx)(ne,{header:Object(w.jsxs)(b.b,{children:[Object(w.jsx)(te,{strong:!0,children:e.cnname}),Object(w.jsx)(te,{type:"secondary",italic:!0,children:e.timecost}),Object(w.jsx)(te,{type:"secondary",italic:!0,children:e.concentrate?"\u4e13\u6ce8":""})]}),extra:n?Object(w.jsx)($,{title:e.cnname,id:e.id,cardid:t,description:e.description,level:e.level,timecost:e.timecost,concentrate:e.concentrate,refresh:d,onClick:function(e){e.stopPropagation()}}):"",children:Object(w.jsx)("div",{className:"magicDescription",children:e.description})},e.id)}))})},c):null}))})]})},ae=d.a.Header,oe=d.a.Content,ie=d.a.Footer,se=d.a.Sider;var le=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),i=Object(l.a)(o,2),m=i[0],y=i[1],C=Object(c.useState)(""),k=Object(l.a)(C,2),S=k[0],I=k[1],R=Object(c.useState)("DnD\u5728\u7ebf\u4eba\u7269\u5361\u7cfb\u7edf"),z=Object(l.a)(R,2),N=z[0],P=z[1],q=Object(c.useState)(""),L=Object(l.a)(q,2),D=L[0],J=L[1],T=Object(c.useState)(!1),A=Object(l.a)(T,2),E=A[0],H=A[1],V=Object(c.useState)(["1"]),W=Object(l.a)(V,2),K=W[0],M=W[1],G=function(e,t,n,c,o){a(!0),y(e),I(t),P(n),J(c),M(["2"]),"full"===o&&(H(!0),localStorage.setItem("token",e))};return document.title=N,f.a.defaults.baseURL="https://hz.shirolovol.cn:3003/api/v1/dnd",f.a.defaults.headers.common.Authorization="Bearer "+m,Object(c.useEffect)((function(){return function(){var e=localStorage.getItem("token");e&&(f.a.defaults.headers.common.Authorization="Bearer "+e,f.a.post("card/tokenlogin").then((function(e){console.log("Response",e.data);var t=e.data.data,n=Object(v.a)(t),c=n.cardid,a=n.name,o=n.player,i=n.permission;G(t,c,a,o,i),console.log("\u6570\u636e\u5df2\u4fdd\u5b58",c,a,o,i,t)})))}(),function(){localStorage.removeItem("card"+S+"equipment")}}),[]),Object(w.jsx)("div",{className:"App",children:Object(w.jsxs)(d.a,{style:{minHeight:"100vh"},children:[Object(w.jsxs)(se,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)},children:[Object(w.jsx)("img",{className:"ptilopsisLogo",src:"logo.png",alt:"NotFount"}),Object(w.jsxs)(j.a,{theme:"dark",mode:"inline",defaultSelectedKeys:K,children:[Object(w.jsx)(j.a.Item,{icon:Object(w.jsx)(O.a,{}),hidden:n,children:"\u767b\u5f55"},"1"),Object(w.jsx)(j.a.Item,{icon:Object(w.jsx)(h.a,{}),hidden:!n,children:Object(w.jsx)(s.b,{to:{pathname:"identity",state:{cardid:S,permission:E}},children:"\u4eba\u7269\u7279\u8d28"})},"2"),Object(w.jsx)(j.a.Item,{icon:Object(w.jsx)(g.a,{}),hidden:!n,children:Object(w.jsx)(s.b,{to:{pathname:"equipment",state:{cardid:S,permission:E}},children:"\u88c5\u5907\u53ca\u6b66\u5668"})},"3"),Object(w.jsx)(j.a.Item,{icon:Object(w.jsx)(p.a,{}),hidden:!n,children:Object(w.jsx)(s.b,{to:{pathname:"magic",state:{cardid:S,permission:E}},children:"\u6cd5\u672f"})},"4")]})]}),Object(w.jsxs)(d.a,{children:[Object(w.jsx)(ae,{className:"site-layout-sub-header-background",style:{padding:0},children:Object(w.jsxs)(b.b,{size:"large",align:"center",children:[Object(w.jsx)("div",{className:"ptilopsisTitle",children:N}),Object(w.jsx)(u.a,{size:"small",shape:"circle",icon:Object(w.jsx)(x.a,{}),onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("card"+S+"equipment"),localStorage.removeItem("card"+S+"identity"),localStorage.removeItem("card"+S+"magic"),window.location.href="https://hz.shirolovol.cn:3002"},hidden:!n})]})}),Object(w.jsx)(oe,{style:{margin:"24px 16px 0"},children:Object(w.jsxs)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:[Object(w.jsx)("div",{hidden:n,children:Object(w.jsx)(F,{loginP:G})}),Object(w.jsx)(r.b,{path:"/welcome",component:function(){return Object(w.jsxs)(w.Fragment,{children:["Welcome ",D]})}}),Object(w.jsx)(r.b,{path:"/identity",component:U}),Object(w.jsx)(r.b,{path:"/equipment",component:B}),Object(w.jsx)(r.b,{path:"/magic",component:ce}),n?Object(w.jsx)(r.a,{to:"/welcome"}):Object(w.jsx)(r.a,{to:"/"})]})}),Object(w.jsx)(ie,{style:{textAlign:"center"},children:"Ptilopsis DnD \u5728\u7ebf\u4eba\u7269\u5361\u7ba1\u7406\u7cfb\u7edf"})]})]})})};n(176);i.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(s.a,{children:Object(w.jsx)(le,{})})}),document.getElementById("root"))}},[[177,1,2]]]);
//# sourceMappingURL=main.548f6637.chunk.js.map